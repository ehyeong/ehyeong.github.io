---
layout: post
title:  "Spring Boot Inflearn 05"
excerpt: "ìŠ¤í”„ë§ DB ì ‘ê·¼ ê¸°ìˆ "
date:   2023-07-02 21:30:36 +0530
categories: SpringBoot
---

### ìŠ¤í”„ë§ DB ì ‘ê·¼ ê¸°ìˆ 

### H2 ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì¹˜

H2 Database Engine Download (all platforms)

terminal - h2 - bin 

$ chmod 755 h2.sh

$ ./h2.sh

ì…ë ¥ -> ë‹¤ìŒ ì°½ ë„ì›Œì§

http://218.38.137.27:8082/?key=748cc909652350a6fed357f69cc23fc45e921665597e15eada65afa299f13aa7

ì•ë¶€ë¶„ ì§€ìš°ê³  localhost:8082/? ... ë˜ë„ë¡ ê³ ì¹¨ 

H2 ì½˜ì†” ì°½

ì—°ê²° í›„ ë‚˜ê°€ê¸°
 
í™ˆì— test.mv.db ìˆëŠ”ì§€ í™•ì¸ (ì™„ë£Œ)

jdbc URL : jdbc:h2:tcp://localhost/~/test ë¡œ ë³€ê²½
(ì´ë ‡ê²Œ ë³€ê²½í•´ì•¼ ì—¬ëŸ¬êµ°ë°ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•¨)

***

ë‹¤ì‹œ

rm test.mv.db (ì§€ìš°ê¸°)

https://www.h2database.com/html/download-archive.html ì—¬ê¸° ë“¤ì–´ê°€ì„œ 1.4.200 ë²„ì „ìœ¼ë¡œ ë‹¤ì‹œ ì„¤ì¹˜

ìœ— ë‚´ìš© ë°˜ë³µ

create table member
(
   id bigint generated by default as identity,
   name varchar(255),
   primary key (id)
); 

ì‹¤í–‰ -> ê°±ì‹ ëœ ê°œìˆ˜: 0
(5 ms)

select * from member; -> ì¡°íšŒ ê°€ëŠ¥

id (ìë°”ì—ì„œëŠ” Long, DB ì—ì„œëŠ” bigint)

id bigint generated by default as identity
: nullê°’ (ê°’ì„ ì„¸íŒ…í•˜ì§€ ì•Šì•˜ë‹¤ë©´) dbê°€ ê°’ì„ ì±„ì›Œì¤Œ

insert into member(name) values('spring') ì‹¤í–‰

select * from member; í™•ì¸ 

ID | NAME
1 | spring

insert into member(name) values('spring2') -> 

2 | spring2 

ì¶”ê°€

db ë„ë©´ ì•ˆë¨! (ë‹¤ì‹œ ì ‘ì†í•´ì•¼í•¨)

***

### ìˆœìˆ˜ JDBC

ë°ì´í„° ì €ì¥ ê¸°ìˆ ì˜ ë°œì „

build.gradle íŒŒì¼ì— jdbc, h2 db ê´€ë ¨ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€

```java

implementation 'org.springframework.boot:spring-boot-starter-jdbc'

runtimeOnly 'com.h2database:h2' 

```

application.properties íŒŒì¼

```java
spring.datasource.url=jdbc:h2:tcp://localhost/~/test

spring.datasource.driver-class-name=org.h2.Driver

```

ì¶”ê°€

repository - JdbcMemberRepository ì¶”ê°€

(ë³µë¶™)

```java

package hello.hellospring.repository;
import hello.hellospring.domain.Member;
import org.springframework.jdbc.datasource.DataSourceUtils;
import javax.sql.DataSource;
import java.sql.*;
import java.util.ArrayList;
import java.util.List;
import java.util.Optional;
public class JdbcMemberRepository implements MemberRepository {
    private final DataSource dataSource;
    public JdbcMemberRepository(DataSource dataSource) {
        this.dataSource = dataSource;
    }

    @Override
    public Member save(Member member) {
        String sql = "insert into member(name) values(?)";
        Connection conn = null;
        PreparedStatement pstmt = null;
        ResultSet rs = null;
        try {
            conn = getConnection();
            pstmt = conn.prepareStatement(sql,
                    Statement.RETURN_GENERATED_KEYS);
            pstmt.setString(1, member.getName());
            pstmt.executeUpdate();
            rs = pstmt.getGeneratedKeys();
            if (rs.next()) {
                member.setId(rs.getLong(1));
            } else {
                throw new SQLException("id ì¡°íšŒ ì‹¤íŒ¨");
            }
            return member;
        } catch (Exception e) {
            throw new IllegalStateException(e);
        } finally {
            close(conn, pstmt, rs);
        }
    }
    @Override
    public Optional<Member> findById(Long id) {
        String sql = "select * from member where id = ?";
        Connection conn = null;
        PreparedStatement pstmt = null;

        ResultSet rs = null;
        try {
            conn = getConnection();
            pstmt = conn.prepareStatement(sql);
            pstmt.setLong(1, id);
            rs = pstmt.executeQuery();
            if(rs.next()) {
                Member member = new Member();
                member.setId(rs.getLong("id"));
                member.setName(rs.getString("name"));
                return Optional.of(member);
            } else {
                return Optional.empty();
            }
        } catch (Exception e) {
            throw new IllegalStateException(e);
        } finally {
            close(conn, pstmt, rs);
        } }
    @Override
    public List<Member> findAll() {
        String sql = "select * from member";
        Connection conn = null;
        PreparedStatement pstmt = null;
        ResultSet rs = null;
        try {
            conn = getConnection();
            pstmt = conn.prepareStatement(sql);
            rs = pstmt.executeQuery();

            List<Member> members = new ArrayList<>();
            while(rs.next()) {
                Member member = new Member();
                member.setId(rs.getLong("id"));
                member.setName(rs.getString("name"));
                members.add(member);
            }
            return members;
        } catch (Exception e) {
            throw new IllegalStateException(e);
        } finally {
            close(conn, pstmt, rs);
        }
    }
    @Override
    public Optional<Member> findByName(String name) {
        String sql = "select * from member where name = ?";
        Connection conn = null;
        PreparedStatement pstmt = null;
        ResultSet rs = null;
        try {
            conn = getConnection();
            pstmt = conn.prepareStatement(sql);
            pstmt.setString(1, name);
            rs = pstmt.executeQuery();
            if(rs.next()) {
                Member member = new Member();
                member.setId(rs.getLong("id"));
                member.setName(rs.getString("name"));
                return Optional.of(member);
            }
            return Optional.empty();
        } catch (Exception e) {
            throw new IllegalStateException(e);
        } finally {
            close(conn, pstmt, rs);
        }
    }
    private Connection getConnection() {
        return DataSourceUtils.getConnection(dataSource);
    }
    private void close(Connection conn, PreparedStatement pstmt, ResultSet rs)
    {
        try {
            if (rs != null) {
                rs.close();
            }
        } catch (SQLException e) {
            e.printStackTrace();
        } try {
        if (pstmt != null) {
            pstmt.close();
        }
    } catch (SQLException e) {
        e.printStackTrace();
    }
        try {
            if (conn != null) {
                close(conn);
            }
        } catch (SQLException e) {
            e.printStackTrace();
        } }
    private void close(Connection conn) throws SQLException {
        DataSourceUtils.releaseConnection(conn, dataSource);
    }
}

```

SpringConfig

```java
@Bean
    public MemberRepository memberRepository(){
//        return new MemoryMemberRepository();
        return new JdbcMemberRepository();
    }
```

ìˆ˜ì •

```java
private DataSource dataSource;

    @Autowired
    public SpringConfig(DataSource dataSource) {
        this.dataSource = dataSource;
    }

```

memberRepository()ì— dataSource ì¶”ê°€

```java
return new JdbcMemberRepository(dataSource);
```

ì‹¤í–‰

âš ï¸ Whitelabel Error ì˜¤ë¥˜ ë°œìƒ

íšŒì› ëª©ë¡ -> ì—ëŸ¬

(ì´ìœ ë¥¼ ëª¨ë¥´ê² ì–´ì„œ ë§ì€ ì‹œê°„ íˆ¬ì ...)
ìŠ¤í”„ë§ë¶€íŠ¸ 2.4 ì´í›„ë¡œ ì¶”ê°€ í•„ìˆ˜
application.properties 
```java
spring.datasource.username=sa 
```    
ì¶”ê°€ -> í•´ê²°!

ìŠ¤í”„ë§ë¶€íŠ¸ 2.4 ì´í›„ë¡œ ì¶”ê°€ í•„ìˆ˜ (ë²„ì „ê°„ì˜ ë¬¸ì œì˜€ìŒ)

ğŸ“Œ í™•ì¸

ì›ë˜ëŠ” (ê¸°ì¡´)

MemberServiceëŠ” MemberRepositoryë¥¼ ì˜ì¡´í•˜ê³  ìˆìŒ

MemberRepositoryëŠ” MemoryMemberRepositoryì™€ JdbcMemberRepositoryê°€ ìˆìŒ

ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì—ì„œëŠ”
memoryë¥¼ ì§€ìš°ê³  jdbc ë¡œ ì—°ê²°ì„ ë°”ê¿ˆ

```
-> **ê°œë°©íì‡„ ì›ì¹™** (OCP, Open-Closed Principle)
    í™•ì¥ì—ëŠ” ì—´ë ¤ìˆê³ , ìˆ˜ì •.ë³€ê²½ì—ëŠ” ë‹«í˜€ìˆìŒ

-> ìŠ¤í”„ë§ì˜ DI(Dependencies Injection)ì„ ì‚¬ìš©í•˜ë©´ ê¸°ì¡´ ì½”ë“œë¥¼ ì†ëŒ€ì§€ ì•Šê³ , ì„¤ì •ë§Œìœ¼ë¡œ êµ¬í˜„ í´ë˜ìŠ¤ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŒ

=> ì¬ì‹¤í–‰í•´ë„ ë°ì´í„°ê°€ ë‚¨ì•„ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŒ
```

***

### ìŠ¤í”„ë§ í†µí•© í…ŒìŠ¤íŠ¸

test - service - MemberServiceTest ë³µì‚¬

MemberServiceIntegrationTest ìƒì„±

```java
@SpringBootTest
@Transactional
```
Spring ì»¨í…Œì´ë„ˆí•œí…Œ memoryMemberRepository ë‚´ë†” í•´ì•¼í•¨.  
```java
@BeforeEach
    public void beforeEach(){
        memberRepository = new MemoryMemberRepository();
        memberService = new MemberService(memberRepository);
    }


    @AfterEach
    public void afterEach(){
        memberRepository.clearStore();
    }
```
ì§€ìš°ê¸°

```java
@Autowired MemberService memberService;
@Autowired MemberRepository memberRepository;
```

ì¶”ê°€

íšŒì›ê°€ì… ì‹¤í–‰ (ì ì‹œ Transactional ì£¼ì„ì²˜ë¦¬)

-> dbì— hello ë“¤ì–´ê°

ë‹¤ì‹œ ì‹¤í–‰ -> ì˜¤ë¥˜ ! (ë‹¹ì—°í•¨ ì´ë¯¸ dbì— helloë¥¼ ë„£ì–´ë‘ )

```java
ğŸ“ @Transactional
```
ì„ ë‹¬ë©´ testë¥¼ ì‹¤í–‰í•  ë•Œ transactionì„ ì‹¤í–‰í•˜ê³  dbì˜ ë°ì´í„°ë¥¼ insert quaryì— ë„£ì€ í›„ testê°€ ëë‚˜ë©´ ë¡¤ë°±ì„ í•´ì¤Œ! ê¹¨ë—í•˜ê²Œ ì§€ì›Œì§

delete from member;

dbë¥¼ ëª¨ë‘ ì§€ìš°ê³  ë‹¤ì‹œ ì‹¤í–‰ (Transactional ì£¼ì„ í’€ì–´ì¤Œ)

-> ì‹¤í–‰ O -> ë‹¤ì‹œ ì‹¤í–‰ O (dbì— ê°’ ì—†ìŒ. ë¡¤ë°±í•˜ì—¬ ë‹¤ ì§€ì›Œì¤Œ -> ë‹¤ìŒ í…ŒìŠ¤íŠ¸ ì¤‘ë³µ ë‹¤ì‹œ ê°€ëŠ¥)

ğŸ“Œ í™•ì¸

```
ğŸ“ @SpringBootTest : ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì™€ í…ŒìŠ¤íŠ¸ë¥¼ í•¨ê»˜ ì‹¤í–‰í•œë‹¤.
ğŸ“ @Transactional : í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì— ì´ ì• ë…¸í…Œì´ì…˜ì´ ìˆìœ¼ë©´, í…ŒìŠ¤íŠ¸ ì‹œì‘ ì „ì— íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•˜ê³ , í…ŒìŠ¤íŠ¸ ì™„ë£Œ í›„ì— í•­ìƒ ë¡¤ë°±í•œë‹¤. ì´ë ‡ê²Œ í•˜ë©´ DBì— ë°ì´í„°ê°€ ë‚¨ì§€ ì•Šìœ¼ë¯€ë¡œ ë‹¤ìŒ í…ŒìŠ¤íŠ¸ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤.
```

***

### ìŠ¤í”„ë§ JdbcTemplate

- MyBatisì™€ ë¹„ìŠ·í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬

- ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” JDBC APIì—ì„œ ë³¸ ë°˜ë³µ ì½”ë“œë¥¼ ëŒ€ë¶€ë¶„ ì œê±°

- í•˜ì§€ë§Œ SQLì€ ì§ì ‘ ì‘ì„±

repository - JdbcTemplateMemberRepository ìƒì„±

```java
package hello.hellospring.repository;

import hello.hellospring.domain.Member;

import java.util.List;
import java.util.Optional;

public class JdbcTemplateMemberRepository implements MemberRepository{
    @Override
    public Member save(Member member) {
        return null;
    }

    @Override
    public Optional<Member> findById(Long id) {
        return Optional.empty();
    }

    @Override
    public Optional<Member> findByName(String name) {
        return Optional.empty();
    }

    @Override
    public List<Member> findAll() {
        return null;
    }
}
```
ë‹¤ìŒ ì¶”ê°€

```java
private final JdbcTemplate jdbcTemplate;

    @Autowired
    public JdbcTemplateMemberRepository(DataSource dataSource) {
        jdbcTemplate = new JdbcTemplate(dataSource);
    }
```

ìƒì„±ìê°€ ë”± í•˜ë‚˜ì¼ ë•Œ @Autowired ìƒëµ ê°€ëŠ¥

```java
private RowMapper<Member> memberRowMapper(){
        return new RowMapper<Member>() {
            @Override
            public Member mapRow(ResultSet rs, int rowNum) throws SQLException {

                Member member = new Member();
                member.setId(rs.getLong("id"));
                member.setName(rs.getString("name"));
                return member;
            }
        };
    }
```
lambdaë¡œ ê³ ì¹˜ê¸°

```java
private RowMapper<Member> memberRowMapper(){
        return (rs, rowNum) -> {

            Member member = new Member();
            member.setId(rs.getLong("id"));
            member.setName(rs.getString("name"));
            return member;
        };
    }
```

findById ìˆ˜ì •

```java
@Override
    public Optional<Member> findById(Long id) {
        List<Member> result = jdbcTemplate.query("select * from member where id = ?", memberRowMapper(), id);
        return result.stream().findAny();
    }
```

(ì´í•´ ëª»í•¨)

ì•ì—ì„œ ì‚¬ìš©í•œ jdbcë¥¼ ì˜ ì •ë¦¬í•˜ì—¬ ì¤„ì¸ ê²ƒì´ ì´ í…œí”Œë¦¿

```java
@Override
    public Member save(Member member) {
        SimpleJdbcInsert jdbcInsert = new SimpleJdbcInsert(jdbcTemplate);
        jdbcInsert.withTableName("member").usingGeneratedKeyColumns("id");
        Map<String, Object> parameters = new HashMap<>();
        parameters.put("name", member.getName());
        Number key = jdbcInsert.executeAndReturnKey(new
                MapSqlParameterSource(parameters));
        member.setId(key.longValue());
        return member;
    }
```
(ë³µë¶™)

findByName ì€ findByIdì—ì„œ id -> name êµì²´

```java
@Override
    public Optional<Member> findByName(String name) {
        List<Member> result = jdbcTemplate.query("select * from member where name = ?", memberRowMapper(), name);
        return result.stream().findAny();
    }
```

findAll

```java
return jdbcTemplate.query("select * from member", memberRowMapper());
```
ì¶”ê°€

SpringConfig

```java
//return new JdbcMemberRepository(dataSource); 
return new JdbcTemplateMemberRepository(dataSource);
``` 
JdbcMemberRepository ì£¼ì„ í›„ JdbcTemplateMemberRepository ë°˜í™˜

ì‹¤í–‰ -> ì„±ê³µ!

ğŸ“Œ í™•ì¸

***

### JPA

(ê°•ì˜ *ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë° - ê¸°ë³¸í¸*)

- JPAëŠ” ê¸°ì¡´ì˜ ë°˜ë³µ ì½”ë“œëŠ” ë¬¼ë¡ ì´ê³ , ê¸°ë³¸ì ì¸ SQLë„ JPAê°€ ì§ì ‘ ë§Œë“¤ì–´ì„œ ì‹¤í–‰í•´ì¤€ë‹¤.
- JPAë¥¼ ì‚¬ìš©í•˜ë©´, SQLê³¼ ë°ì´í„° ì¤‘ì‹¬ì˜ ì„¤ê³„ì—ì„œ ê°ì²´ ì¤‘ì‹¬ì˜ ì„¤ê³„ë¡œ íŒ¨ëŸ¬ë‹¤ì„ì„ ì „í™˜ì„ í•  ìˆ˜ ìˆë‹¤. 
- JPAë¥¼ ì‚¬ìš©í•˜ë©´ ê°œë°œ ìƒì‚°ì„±ì„ í¬ê²Œ ë†’ì¼ ìˆ˜ ìˆë‹¤.

build.gradle

```java
//	implementation 'org.springframework.boot:spring-boot-starter-jdbc'
implementation 'org.springframework.boot:spring-boot-starter-data-jpa:2.7.13'
```
application.properties

```java
spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=none
```
ì¶”ê°€

domain - Member

@Entity 

@Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)

ì¶”ê°€

identity -> idê°’ì€ ì•Œì•„ì„œ ì§€ì •í•´ì¤Œ

```java
@Entity
public class Member {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String name;
    ...
}
```

repository - JpaMemberRepository ìƒì„±

```java
package hello.hellospring.repository;

import hello.hellospring.domain.Member;
import jakarta.persistence.EntityManager;

import java.util.List;
import java.util.Optional;

public class JpaMemberRepository implements MemberRepository{


    @Override
    public Member save(Member member) {
        return null;
    }

    @Override
    public Optional<Member> findById(Long id) {
        return Optional.empty();
    }

    @Override
    public Optional<Member> findByName(String name) {
        return Optional.empty();
    }

    @Override
    public List<Member> findAll() {
        return null;
    }
}
```
option + Enter

```java
    private final EntityManager em;

    public JpaMemberRepository(EntityManager em) {
        this.em = em;
    }
```
ì¶”ê°€

jpaë¥¼ ì“°ê¸° ìœ„í•´ì„  EntityManagerë¥¼ ì£¼ì… ë°›ì•„ì•¼í•¨.

save ìˆ˜ì •

```java
@Override
    public Member save(Member member) {
        em.persist(member);
        return member;
    }
```

idê¹Œì§€ memberì—ì„œ ë‹¤í•´ì¤Œ

findById ìˆ˜ì •

```java
@Override
    public Optional<Member> findById(Long id) {
        Member member = em.find(Member.class, id);
        return Optional.ofNullable(member);
    }
```
findAll ìˆ˜ì •

```java
@Override
    public List<Member> findAll() {
        em.createQuery("select m from Member m", Member.class)
                .getResultList();
    }
```
option + Enter , result ë¡œ ìˆ˜ì • ->

```java
@Override
    public List<Member> findAll() {
        List<Member> result = em.createQuery("select m from Member m", Member.class)
                .getResultList();
        return result;
    }
```
inlineìœ¼ë¡œ ë‹¤ì‹œ ìˆ˜ì • (ì™œ ì´ë ‡ê²Œ í•˜ëŠ”ì§€ ëª¨ë¥´ê² ìŒ)

```java
return em.createQuery("select m from Member m", Member.class)
                .getResultList();
```

select m -> ê°ì²´ ìì²´ mì„ select í•¨

findByName
```java
@Override
    public Optional<Member> findByName(String name) {
        List<Member> result = em.createQuery("select m from Member m where m.name = :name", Member.class)
                .setParameter("name", name)
                .getResultList();

        return result.stream().findAny();
    }
```
ì „ì²´
```java
package hello.hellospring.repository;

import hello.hellospring.domain.Member;
import jakarta.persistence.EntityManager;

import java.util.List;
import java.util.Optional;

public class JpaMemberRepository implements MemberRepository{

    private final EntityManager em;

    public JpaMemberRepository(EntityManager em) {
        this.em = em;
    }

    @Override
    public Member save(Member member) {
        em.persist(member);
        return member;
    }

    @Override
    public Optional<Member> findById(Long id) {
        Member member = em.find(Member.class, id);
        return Optional.ofNullable(member);
    }

    @Override
    public Optional<Member> findByName(String name) {
        List<Member> result = em.createQuery("select m from Member m where m.name = :name", Member.class)
                .setParameter("name", name)
                .getResultList();

        return result.stream().findAny();
    }

    @Override
    public List<Member> findAll() {
        return em.createQuery("select m from Member m", Member.class)
                .getResultList();
    }
}
```

jpaë¥¼ ì“°ê¸° ìœ„í•´ì„  @Transationalì´ ìˆì–´ì•¼í•¨
-> ë°ì´í„° ì €ì¥, ë³€ê²½

MemberService ì— @Transactional ì¶”ê°€

service - SpringConfig

```java
  @Autowired
    public SpringConfig(DataSource dataSource) {
        this.dataSource = dataSource;
    }
```
ì‚­ì œ

```java
private EntityManager em;

    @Autowired
    public SpringConfig(EntityManager em) {
        this.em = em;
    }
```
ì¶”ê°€

memberRepository ìˆ˜ì •

```java
//        return new JdbcTemplateMemberRepository(dataSource);
        return new JpaMemberRepository(em);
```

ì‹¤í–‰ -> âš ï¸ ì—ëŸ¬ 

í•´ê²° (ì´ê²ƒì €ê²ƒ ë‹¤ í•´ì„œ ì–´ë””ì„œ ê³ ì³ì¡ŒëŠ”ì§€ ëª¨ë¥´ê² ìŒ)

@Commit ì„ ë„£ê³  MemberServiceIntegrationTest ì‹¤í–‰ -> spring ë“¤ì–´ê°€ëŠ” ê²ƒ í™•ì¸í•  ìˆ˜ ìˆìŒ

ğŸ“Œ í™•ì¸

***

### ìŠ¤í”„ë§ ë°ì´í„° JPA

repository - SpringDataJpaMemberRepository ì¸í„°í˜ì´ìŠ¤ ìƒì„±

```java
package hello.hellospring.repository;

import hello.hellospring.domain.Member;
import org.springframework.data.jpa.repository.JpaRepository;

import java.util.Optional;

public interface SpringDataJpaMemberRepository extends JpaRepository<Member,Long>, MemberRepository {

    @Override
    Optional<Member> findByName(String name);
}
```
service - SpringConfig

```java
/*
    private final DataSource dataSource;
    private final EntityManager em;
    public SpringConfig(DataSource dataSource, EntityManager em) {
        this.dataSource = dataSource;
        this.em = em;
    }

 */
```
ì£¼ì„ì²˜ë¦¬

memberRepository()ë„ ì£¼ì„ì²˜ë¦¬

```java
private final MemberRepository memberRepository;

@Autowired
public SpringConfig(MemberRepository memberRepository) {
    this.memberRepository = memberRepository;
    }
```
ìƒì„±

ì‹¤í–‰ -> ì„±ê³µ

ğŸ“Œ í™•ì¸

ìŠ¤í”„ë§ ë°ì´í„° JPA ê°€ SpringDataJpaMemberRepositoryë¥¼ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ìë™ ë“±ë¡

JpaRepositoryë¥¼ ë“¤ì–´ê°€ë³´ë©´ ê¸°ë³¸ ë©”ì†Œë“œë¥¼ ë‹¤ ì œê³µí•´ì¤Œ (crud) *ê³µí†µ* -> ê°€ì ¸ì™€ ì“°ë©´ ë¨

ê³µí†µì´ ë¶ˆê°€ëŠ¥í•œ ê²ƒ -> findByName ì¸í„°í˜ì´ìŠ¤ë¡œ

**ìŠ¤í”„ë§ ë°ì´í„° JPA ì œê³µ ê¸°ëŠ¥** 
- ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•œ ê¸°ë³¸ì ì¸ CRUD
findByName() 
- findByEmail() ì²˜ëŸ¼ ë©”ì„œë“œ ì´ë¦„ ë§Œìœ¼ë¡œ ì¡°íšŒ ê¸°ëŠ¥ ì œê³µ 
- í˜ì´ì§• ê¸°ëŠ¥ ìë™ ì œê³µ
